= form_tag '', id: 'new-account-form', class: 'signup' do
  %h2 Sign up
  .unknown-error
  = field_set_tag nil, id: 'common-fieldset' do
    .group
      .f-row.half= text_field_tag :first_name, nil, placeholder: 'First Name'
      .f-row.half= text_field_tag :last_name, nil, placeholder: 'Last Name'

    .group
      .f-row= password_field_tag :password, nil, placeholder: 'Password'
      .f-row= password_field_tag :password_confirmation, nil, placeholder: 'Password Again'

    .group
      .f-row
        I am a
        = radio_button_tag :account_type, 'student', false, id: 'student_account'
        = label_tag :student_account, ' Student'
        = radio_button_tag :account_type, 'teacher', false, id: 'teacher_account'
        = label_tag :teacher_account, ' Teacher'

    .group
      %button#continue-registration= "Sign Up for #{APP_CONFIG[:site_name]}!"
    .quote-box.bottom.hidden
      .quote "I felt like I could learn a lot by playing with the interactivesâ€
      .quote-credits - 9th grader, San Francisco, CA

  = field_set_tag nil, id: 'student-fieldset', class: 'hidden' do

    - if current_project.allow_default_class
      .f-row= hidden_field_tag :class_word, Portal::Clazz.default_class.class_word
    - else
      .group
        .f-row= text_field_tag :class_word, nil, placeholder: 'Class Word (not case sensitive)'

    - if current_project.use_student_security_questions
      .group
        %p.small
          Please select three questions from the menus below.
          If you forget your password, you will need to answer these questions correctly in order to receive a new one.
      .group
        .f-row= select_tag 'questions[]', nil, 'data-placeholder' => 'Select a question'
        .f-row= text_field_tag 'answers[]', nil, placeholder: 'Answer (case sensitive)'
      .group
        .f-row= select_tag 'questions[]', nil, 'data-placeholder' => 'Select a question'
        .f-row= text_field_tag 'answers[]', nil, placeholder: 'Answer (case sensitive)'
      .group
        .f-row= select_tag 'questions[]', nil, 'data-placeholder' => 'Select a question'
        .f-row= text_field_tag 'answers[]', nil, placeholder: 'Answer (case sensitive)'

    .group.bottom
      .f-row= submit_tag 'Submit', class: 'submit-form'

  = field_set_tag nil, id: 'teacher-fieldset', class: 'hidden' do
    .group
      .f-row= text_field_tag :login, nil, placeholder: 'Username'
      .f-row= text_field_tag :email, nil, placeholder: 'E-mail'
    .group
      .f-row= select_tag 'country_id', nil, 'data-placeholder' => 'Select a country'
      .f-row.domestic-only= select_tag 'state', nil, 'data-placeholder' => 'Select a state', 'class' => 'hidden'
      .f-row.deomestc-only= select_tag 'district_id', nil, 'class' => 'hidden', 'data-placeholder' => 'Select a district'
      - if current_project.allow_adhoc_schools
        #school-picker.group
          .f-row= select_tag 'school_id', nil, 'data-placeholder' => 'Select a school'
          .f-row
            %a#cant-find-school I can't find my school in the list.
        #custom-school.group
          .f-row= text_field_tag 'school_name', nil, 'placeholder' => 'School name'
          .f-row.intl-only= text_field_tag 'province', nil, 'placeholder' => 'Province'
          .f-row.intl-only= text_field_tag 'city', nil, 'placeholder' => 'City'
          .f-row
            %a#back-to-list  Go back to the school list.
      - else
        #school-picker.group
          .f-row= select_tag 'school_id', nil, 'data-placeholder' => 'Select a school'

    .group
      .f-row= submit_tag 'Submit', class: 'submit-form'

  .group
    .f-row.wait-message
